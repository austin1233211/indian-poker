# ===========================================
# Indian Poker Server Configuration
# ===========================================

# Game Server Port (default: 8080)
PORT=8080

# ===========================================
# PIR (Private Information Retrieval) Server Integration
# ===========================================

# Set PIR_ENABLED=true to enable PIR integration for card verification
PIR_ENABLED=true

# PIR Server URL
# - Local development: http://localhost:3000
# - Railway deployment: http://indian-poker.railway.internal:3000
PIR_SERVER_URL=http://localhost:3000

# PIR Request Timeout in milliseconds (default: 5000)
PIR_TIMEOUT=5000

# Number of retry attempts for PIR requests (default: 3)
PIR_RETRY_ATTEMPTS=3

# Delay between retries in milliseconds (default: 1000)
PIR_RETRY_DELAY=1000

# ===========================================
# SNARK (Zero-Knowledge Proof) Integration
# ===========================================
# The groth16-snark module is integrated locally via require()
# No additional configuration needed - it auto-initializes on server start

# ===========================================
# AEAD Encryption (Data at Rest)
# ===========================================
# IMPORTANT: Set AEAD_MASTER_KEY in production for persistent encryption
# Without this, encrypted data will be lost on server restart!

# Master key for AEAD encryption (64 hex characters = 32 bytes = 256 bits)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# AEAD_MASTER_KEY=your-64-character-hex-key-here

# Previous keys for key rotation (comma-separated hex keys)
# When rotating keys, move the old AEAD_MASTER_KEY here to allow decryption of old data
# AEAD_PREVIOUS_KEYS=old-key-1,old-key-2

# ===========================================
# Security Configuration
# ===========================================
# Environment mode (development/production)
# In production mode, security warnings are raised for missing keys
NODE_ENV=development

# Randomness timeout in milliseconds (default: 30000)
# Time allowed for players to commit/reveal randomness seeds
# RANDOMNESS_TIMEOUT_MS=30000

# ===========================================
# Railway Deployment Configuration
# ===========================================
# When deploying to Railway, set the following environment variables:
#
# indian-poker-server service:
#   PORT=8080
#   PIR_ENABLED=true
#   PIR_SERVER_URL=http://indian-poker.railway.internal:3000
#
# pir-server service:
#   PORT=3000
#   DB_CLIENT=sqlite
#   DB_PATH=/app/data/pir_server.db
#   ENCRYPTION_SECRET=<your-32-char-secret>
#   JWT_SECRET=<your-32-char-jwt-secret>
#
# Frontend connects to indian-poker-server via public WebSocket URL:
#   wss://indian-poker-production.up.railway.app
